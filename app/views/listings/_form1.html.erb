<% if @listing.errors.any? %>
    <% for error in @listing.errors.full_messages %>
        <p><%= error %></p>
    <% end %>
<% end %>

<%= form_with model: listing, url: {action: url},  local: true do |form|%>
<%# url is signed to different method depends on which method url is handling. refer to new/edit/more.html.erb for more info %>
    <div>
        <%= form.label :artist %>
        <%= form.text_field :artist %>
    </div>

    <div>
        <%= form.label :title %>
        <%= form.text_field :title %>
    </div>


    <div>
        <%= form.label :format_id %>
        <%= form.select(:format_id, @formats.map{|f| [f.name, f.id]}) %>
    </div>
    
    
    <div>
        <%= form.label :year %>
        <%= form.text_field :year %>
    </div>

    <div>
        <%= form.label :price %>
        AUD$<%= form.number_field :price, min: 0 %> (whole dollars only)
    </div>

    <p>Album Condition</p>
    <% @conditions.each do |option| %>
    <div>
        <%= form.radio_button :condition, option %>
        <%= form.label "condition_#{option}".to_sym, option %>
    </div>
     <% end %>

    <div>
        <%= form.label :description %>
        <%= form.text_area :description %>
    </div>

    <div>
        <%= form.submit %>
    </div>

<% end %>